<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Vocabulaire Interactief - Master Player</title>
    <style>
        :root { --primary: #3498db; --success: #2ecc71; --danger: #e74c3c; --bg: #121212; --card: #1e1e1e; --accent: #f1c40f; }
        body { background-color: var(--bg); color: white; font-family: 'Segoe UI', sans-serif; margin: 0; }
        #container { width: 95%; max-width: 1100px; margin: 40px auto; text-align: center; }
        .selector-container { background: var(--card); padding: 20px; border-radius: 12px; margin-bottom: 30px; border: 1px solid #333; }
        select { padding: 12px; background: #333; color: white; border-radius: 6px; border: 1px solid var(--primary); font-size: 16px; width: 300px; cursor: pointer; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; }
        .set-card { background: var(--card); padding: 20px; border-radius: 12px; border: 1px solid #333; transition: 0.3s; }
        .btn { background: var(--primary); color: white; border: none; padding: 12px; border-radius: 6px; cursor: pointer; font-size: 15px; width: 100%; margin-bottom: 8px; transition: 0.3s; }
        .btn-edit { background: #444; }
        .screen { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg); z-index: 100; justify-content: center; align-items: center; flex-direction: column; }
        #modal { background: rgba(0,0,0,0.85); }
        .modal-content { background: #222; padding: 25px; border-radius: 15px; width: 90%; max-width: 600px; }
        .scroll-area { max-height: 400px; overflow-y: auto; border: 1px solid #333; }
        .edit-table { width: 100%; border-collapse: collapse; }
        .edit-table input { background: #333; color: white; border: 1px solid #555; padding: 5px; width: 95%; }
        #word-display { font-size: 70px; font-weight: bold; margin: 40px 0; color: var(--accent); text-align: center; min-height: 100px; }
        #timer-container { width: 70%; height: 12px; background: #333; border-radius: 6px; margin: 20px auto; overflow: hidden; }
        #timer-bar { width: 100%; height: 100%; background: var(--success); transition: width 1s linear; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th, td { padding: 10px; border: 1px solid #444; text-align: left; }
    </style>
</head>
<body>

<div id="container">
    <h1>Vocabulaire Interactief</h1>
    <div class="selector-container">
        <label style="display:block; margin-bottom:10px; color:#aaa;">Kies een hoofdstuk:</label>
        <select id="thema-select" onchange="laadThema(this.value)">
            <option value="ecologie">L'Environnement et l'√âcologie</option>
            <option value="mobilite">La Mobilit√© et le Transport</option>
            <option value="pelckmans">Grote Woordenlijst (Pelckmans)</option>
        </select>
    </div>
    <div class="grid" id="set-grid"></div>
</div>

<div id="modal" class="screen" onclick="closeModal(event)">
    <div class="modal-content" onclick="event.stopPropagation()">
        <h2 id="modal-title">Bewerken</h2>
        <div class="scroll-area"><table class="edit-table"><tbody id="edit-tbody"></tbody></table></div>
        <button class="btn" style="background:var(--success); margin-top:15px;" onclick="saveAndClose()">Opslaan</button>
    </div>
</div>

<div id="exercise" class="screen">
    <div id="info-fr" style="color: #aaa;"></div>
    <div id="timer-container"><div id="timer-bar"></div></div>
    <div id="word-display"></div>
    <div style="display:flex; gap:10px;">
        <button class="btn" style="width:140px; background:#555;" id="pause-btn" onclick="togglePause()">Pause</button>
        <button class="btn" style="width:140px; background:var(--danger);" onclick="location.reload()">Stop</button>
    </div>
</div>

<div id="result" class="screen">
    <h2>Overzicht</h2>
    <div style="width: 80%; max-height: 70vh; overflow-y: auto;"><table style="background:#1e1e1e;"><tbody id="res-body"></tbody></table></div>
    <button class="btn" style="margin-top: 20px; width:200px;" onclick="location.reload()">Menu</button>
</div>

<script>
const dataBibliotheek = {
    "ecologie": [
        {"fr":"la protection de l'environnement","nl":"de bescherming van het milieu"},{"fr":"sauver le climat","nl":"het klimaat redden"},{"fr":"le respect de la nature","nl":"het respect voor de natuur"},{"fr":"la sauvegarde de la biodiversit√©","nl":"het beschermen van de biodiversiteit"},{"fr":"pr√©server les √©cosyst√®mes","nl":"de ecosystemen beschermen"},{"fr":"les √©cologistes","nl":"de groenen (politiek)"},{"fr":"le d√©veloppement durable","nl":"de duurzame ontwikkeling"},{"fr":"l'√©conomie verte","nl":"de groene economie"},{"fr":"un d√©fi environnemental","nl":"een uitdaging voor het milieu"},{"fr":"le recyclage","nl":"het recycleren"},{"fr":"trier les d√©chets","nl":"het afval sorteren"},{"fr":"le tri s√©lectief","nl":"het sorteren"},{"fr":"le z√©ro d√©chet","nl":"zero waste"},{"fr":"biod√©gradable","nl":"biologisch afbreekbaar"},{"fr":"le changement climatique","nl":"de klimaatverandering"},{"fr":"le d√©sastre √©cologique","nl":"de ecologische ramp"},{"fr":"polluer","nl":"vervuilen"},{"fr":"la d√©forestation","nl":"de ontbossing"},{"fr":"toxique","nl":"giftig"},{"fr":"le r√©chauffement climatique","nl":"de opwarming van de aarde"},{"fr":"la canicule","nl":"de hittegolf"},{"fr":"la pollution atmosph√©rique","nl":"de luchtvervuiling"},{"fr":"les particules fines","nl":"het fijn stof"},{"fr":"les √©missions de CO2","nl":"de CO2 uitstoot"},{"fr":"l'√©nergie renouvelable","nl":"de hernieuwbare energie"},{"fr":"une inondation","nl":"een overstroming"},{"fr":"une temp√™te","nl":"een storm"},{"fr":"un incendie","nl":"een brand"},{"fr":"installer des panneaux solaires","nl":"zonnepanelen installeren"},{"fr":"investir dans des √©oliennes","nl":"investeren in windmolens"},{"fr":"faire du covoiturage","nl":"carpoolen"},{"fr":"trier ses d√©chets","nl":"zijn afval sorteren"},{"fr":"√©viter le gaspillage","nl":"verspilling tegengaan"},{"fr":"acheter des produits bio","nl":"producten met een biolabel kopen"},{"fr":"la sauvegarde","nl":"de bescherming"},{"fr":"contaminer","nl":"verontreinigen"},{"fr":"n√©faste","nl":"schadelijk"},{"fr":"mettre en gevaar","nl":"in gevaar brengen"},{"fr":"la toxicit√©","nl":"de giftigheid"},{"fr":"la fonte des neiges","nl":"het smelten van de sneeuw"},{"fr":"la s√©cheresse","nl":"de droogte"},{"fr":"la hausse du niveau des mers","nl":"het stijgen van de zeespiegel"},{"fr":"l'air est pollu√©","nl":"de lucht is vervuild"},{"fr":"les d√©chets industriels","nl":"het afval van de industrie"},{"fr":"l'extinction","nl":"de uitroeiing"},{"fr":"la p√©nurie","nl":"het tekort"},{"fr":"le nucl√©aire","nl":"de kernenergie"},{"fr":"la transition √©nerg√©tique","nl":"de energetische overgang"},{"fr":"les intemp√©ries","nl":"het noodweer"},{"fr":"un tremblement de terre","nl":"een aardbeving"},{"fr":"un s√©isme","nl":"een aardbeving"},{"fr":"r√©cup√©rer l'eau de pluie","nl":"regenwater opvangen"},{"fr":"la surconsommation","nl":"overconsumptie"},{"fr":"les √©colos","nl":"de groenen"},{"fr":"l'√©conomie durable","nl":"duurzame economie"},{"fr":"les emballages superflus","nl":"overbodige verpakkingen"},{"fr":"le plastique √† usage unique","nl":"wegwerpplastic"},{"fr":"modifier ses habitudes","nl":"gewoontes aanpassen"},{"fr":"la contamination","nl":"de verontreiniging"},{"fr":"nocif pour la sant√©","nl":"schadelijk voor de gezondheid"},{"fr":"inoffensif","nl":"onschadelijk"},{"fr":"la dangerosit√©","nl":"de gevaarlijkheid"},{"fr":"les glaciers","nl":"de ijskappen"},{"fr":"augmenter","nl":"stijgen"},{"fr":"la pollution marine","nl":"de zeevervuiling"},{"fr":"la mauvaise qualit√© de l'air","nl":"slechte luchtkwaliteit"},{"fr":"√©mettre","nl":"uitstoten"},{"fr":"le pic de pollution","nl":"vervuilingspiek"},{"fr":"la cha√Æne alimentaire","nl":"de voedselketen"},{"fr":"les esp√®ces menac√©es","nl":"bedreigde diersoorten"},{"fr":"la radioactivit√©","nl":"radioactiviteit"},{"fr":"les d√©chets radioactifs","nl":"radioactief afval"},{"fr":"l'√©nergie fossile","nl":"fossiele brandstoffen"},{"fr":"des pluies diluviennes","nl":"stortregens"},{"fr":"un ouragan","nl":"een orkaan"},{"fr":"une coul√©e de boue","nl":"een modderstroom"},{"fr":"prendre des mesures","nl":"maatregelen nemen"},{"fr":"r√©duire la pollution","nl":"vervuiling verminderen"},{"fr":"sauvegarder la plan√®te","nl":"de planeet beschermen"},{"fr":"le respect","nl":"het respect"},{"fr":"pr√©server","nl":"beschermen"},{"fr":"le recyclage","nl":"het recycleren"},{"fr":"r√©cup√©rer","nl":"hergebruiken"},{"fr":"diminuer les d√©chets","nl":"afval verminderen"},{"fr":"modifier","nl":"aanpassen"},{"fr":"l'atmosph√®re","nl":"de atmosfeer"},{"fr":"l'ozone","nl":"de ozonlaag"},{"fr":"la protection","nl":"de bescherming"},{"fr":"√©cologique","nl":"ecologisch"},{"fr":"l'environnement","nl":"het milieu"},{"fr":"sauver","nl":"redden"},{"fr":"la biodiversit√©","nl":"de biodiversiteit"},{"fr":"un √©cosyst√®me","nl":"een ecosysteem"},{"fr":"durable","nl":"duurzaam"},{"fr":"l'√©cologie","nl":"de ecologie"},{"fr":"trier","nl":"sorteren"},{"fr":"le tri","nl":"het sorteren"},{"fr":"z√©ro d√©chet","nl":"geen afval"},{"fr":"le climat","nl":"het klimaat"},{"fr":"la fonte","nl":"het smelten"},{"fr":"la hausse","nl":"de stijging"},{"fr":"la mer","nl":"de zee"},{"fr":"polluer","nl":"vervuilen"},{"fr":"les sols","nl":"de grond"},{"fr":"les ressources","nl":"de bronnen"},{"fr":"l'√©nergie","nl":"de energie"},{"fr":"renouvelable","nl":"hernieuwbaar"},{"fr":"nucl√©aire","nl":"kernenergie"},{"fr":"le d√©chet","nl":"het afval"},{"fr":"fossile","nl":"fossiel"}
    ],
    "mobilite": [
        {"fr":"se d√©placer","nl":"zich verplaatsen"},{"fr":"un moyen de transport","nl":"een vervoermiddel"},{"fr":"le transport en commun","nl":"het openbaar vervoer"},{"fr":"la voiture","nl":"de auto"},{"fr":"le bus","nl":"de bus"},{"fr":"le tram","nl":"de tram"},{"fr":"le m√©tro","nl":"de metro"},{"fr":"le train","nl":"de trein"},{"fr":"le v√©lo","nl":"de fiets"},{"fr":"√† v√©lo","nl":"met de fiets"},{"fr":"le cycliste","nl":"de fietser"},{"fr":"la piste cyclable","nl":"het fietspad"},{"fr":"le v√©lo partag√©","nl":"de deelfiets"},{"fr":"la trottinette","nl":"de step"},{"fr":"la marche","nl":"het wandelen"},{"fr":"√† pied","nl":"te voet"},{"fr":"le pi√©ton","nl":"de voetganger"},{"fr":"le passage pour pi√©tons","nl":"het zebrapad"},{"fr":"le trottoir","nl":"het voetpad"},{"fr":"la voiture √©lectrique","nl":"de elektrische auto"},{"fr":"la borne de recharge","nl":"de laadpaal"},{"fr":"le covoiturage","nl":"het carpoolen"},{"fr":"le conducteur","nl":"de bestuurder"},{"fr":"le passager","nl":"de passagier"},{"fr":"le permis de conduire","nl":"het rijbewijs"},{"fr":"la circulation","nl":"het verkeer"},{"fr":"le trafic","nl":"het verkeer"},{"fr":"les embouteillages","nl":"de files"},{"fr":"les bouchons","nl":"de files"},{"fr":"√™tre coinc√©","nl":"in de file staan"},{"fr":"la pollution","nl":"de vervuiling"},{"fr":"les √©missions de CO2","nl":"de CO2-uitstoot"},{"fr":"l'impact √©cologique","nl":"de ecologische impact"},{"fr":"durable","nl":"duurzaam"},{"fr":"la mobilit√© durable","nl":"de duurzame mobiliteit"},{"fr":"l'alternative","nl":"het alternatief"},{"fr":"le trajet","nl":"de rit"},{"fr":"la distance","nl":"de afstand"},{"fr":"la s√©curit√© routi√®re","nl":"de verkeersveiligheid"},{"fr":"l'accident","nl":"het ongeval"},{"fr":"la vitesse","nl":"de snelheid"},{"fr":"limiter la vitesse","nl":"de snelheid beperken"},{"fr":"le code de la route","nl":"het verkeersreglement"},{"fr":"le panneau","nl":"het verkeersbord"},{"fr":"les feux","nl":"de verkeerslichten"},{"fr":"le carrefour","nl":"het kruispunt"},{"fr":"la rue","nl":"de straat"},{"fr":"la route","nl":"de weg"},{"fr":"l'autoroute","nl":"de autosnelweg"},{"fr":"le parking","nl":"de parking"},{"fr":"se garer","nl":"parkeren"},{"fr":"stationner","nl":"parkeren"},{"fr":"le voyage","nl":"de reis"},{"fr":"voyager","nl":"reizen"},{"fr":"la gare","nl":"het station"},{"fr":"l'arr√™t de bus","nl":"de bushalte"},{"fr":"le quai","nl":"het perron"},{"fr":"le guichet","nl":"het loket"},{"fr":"le billet","nl":"het ticket"},{"fr":"le contr√¥leur","nl":"de conducteur"},{"fr":"le retard","nl":"de vertraging"},{"fr":"avoir du retard","nl":"vertraging hebben"},{"fr":"la correspondance","nl":"de aansluiting"},{"fr":"changer de train","nl":"overstappen"},{"fr":"l'a√©roport","nl":"de luchthaven"},{"fr":"l'avion","nl":"het vliegtuig"},{"fr":"le pilote","nl":"de piloot"},{"fr":"le vol","nl":"de vlucht"},{"fr":"d√©coller","nl":"opstijgen"},{"fr":"atterrir","nl":"landen"},{"fr":"le port","nl":"de haven"},{"fr":"le bateau","nl":"de boot"},{"fr":"le navire","nl":"het schip"},{"fr":"la travers√©e","nl":"de overtocht"},{"fr":"links afslaan","nl":"tourner √† gauche"},{"fr":"wachten voor het rood licht","nl":"attendre aux feux rouges"},{"fr":"het rijbewijs behalen","nl":"passer le permis"},{"fr":"het rondpunt","nl":"le rond-point"},{"fr":"de controle verliezen","nl":"perdre le contr√¥le"},{"fr":"wegenwerken","nl":"les travaux routiers"},{"fr":"pendelen","nl":"faire la navette"},{"fr":"het intrekken van het rijbewijs","nl":"le retrait du permis"},{"fr":"claxonneren","nl":"klaxonner"},{"fr":"de omleiding volgen","nl":"suivre la d√©viation"},{"fr":"de voorruit","nl":"le pare-brise"},{"fr":"stappen","nl":"marcher"},{"fr":"omvergereden worden","nl":"se faire renverser"},{"fr":"vertragen","nl":"ralentir"},{"fr":"remmen","nl":"freiner"},{"fr":"de straat oversteken","nl":"traverser la rue"},{"fr":"een aanrijding","nl":"une collision"},{"fr":"een fluovestje dragen","nl":"porter un gilet fluo"},{"fr":"een zwakke weggebruiker","nl":"un usager faible"},{"fr":"een lekke band","nl":"le pneu crev√©"},{"fr":"de bakfiets","nl":"le v√©lo cargo"},{"fr":"de buschauffeur","nl":"le chauffeur de bus"},{"fr":"een cruise maken","nl":"faire une croisi√®re"},{"fr":"slippen","nl":"d√©raper"},{"fr":"stiptheid","nl":"la ponctualit√©"},{"fr":"de rechtstreekse verbinding","nl":"la ligne directe"},{"fr":"achteruitrijden","nl":"reculer"},{"fr":"tanken","nl":"faire le plein"},{"fr":"de ketting","nl":"la cha√Æne"},{"fr":"starten","nl":"d√©marrer"},{"fr":"de achteruitkijkspiegel","nl":"le r√©troviseur"},{"fr":"het stuurwiel","nl":"le volant"},{"fr":"de rijinstructeur","nl":"le moniteur"},{"fr":"het praktijkexamen","nl":"l'examen pratique"},{"fr":"varen","nl":"naviguer"},{"fr":"door het rood rijden","nl":"br√ªler un feu rouge"},{"fr":"zichtbaar zijn","nl":"√™tre visible"},{"fr":"de reizigers","nl":"les passagers"},{"fr":"een automobilist","nl":"un automobiliste"},{"fr":"de dienstregeling raadplegen","nl":"consulter les horaires"},{"fr":"een helm dragen","nl":"porter un casque"},{"fr":"zich begeven naar","nl":"se rendre √†"},{"fr":"de grens oversteken","nl":"traverser la fronti√®re"},{"fr":"de hulpdiensten bellen","nl":"appeler les secours"},{"fr":"trappen","nl":"p√©daler"},{"fr":"uitstappen","nl":"descendre"},{"fr":"een boete","nl":"une amende"},{"fr":"de bedrijfswagen","nl":"la voiture de soci√©t√©"},{"fr":"het slot","nl":"le cadenas"}
    ],
    "pelckmans": [
        {"fr":"l'offre exceptionnelle","nl":"de aanbieding"},{"fr":"ajouter au panier","nl":"aan het winkelmandje toevoegen"},{"fr":"l'arriv√©e","nl":"de aankomst"},{"fr":"faire la queue","nl":"aanschuiven"},{"fr":"brancher","nl":"aansluiten"},{"fr":"l'abonnement","nl":"het abonnement"},{"fr":"activer","nl":"activeren"},{"fr":"l'adaptateur","nl":"de adapter"},{"fr":"la dimension","nl":"de afmeting"},{"fr":"les d√©chets m√©nagers","nl":"het huishoudelijk afval"},{"fr":"les eaux us√©es","nl":"het afvalwater"},{"fr":"le spray antimoustiques","nl":"de antimuggenspray"},{"fr":"l'appli","nl":"de app"},{"fr":"l'article command√©","nl":"het artikel"},{"fr":"la baie","nl":"de baai"},{"fr":"la baignade","nl":"het baden"},{"fr":"la serviette de plage","nl":"het badlaken"},{"fr":"la batterie","nl":"de batterij"},{"fr":"le montant","nl":"het bedrag"},{"fr":"l'image","nl":"het beeld"},{"fr":"l'enterrement","nl":"de begrafenis"},{"fr":"limiter","nl":"beperken"},{"fr":"√™tre joignable","nl":"bereikbaar zijn"},{"fr":"endommag√©","nl":"beschadigd"},{"fr":"la protection","nl":"de bescherming"},{"fr":"√™tre disponible","nl":"beschikbaar zijn"},{"fr":"commander","nl":"bestellen"},{"fr":"la commande","nl":"de bestelling"},{"fr":"Meilleurs voeux!","nl":"Beste wensen!"},{"fr":"le paiement","nl":"de betaling"},{"fr":"le r√®glement","nl":"de afrekening"},{"fr":"valider","nl":"bevestigen"},{"fr":"sauvegarder","nl":"bewaren/opslaan"},{"fr":"le blog","nl":"de blog"},{"fr":"embarquer","nl":"boarden"},{"fr":"le bouquet de fleurs","nl":"het boeket bloemen"},{"fr":"le message","nl":"het bericht"},{"fr":"le budget","nl":"het budget"},{"fr":"le cadeau","nl":"het cadeau"},{"fr":"le camping","nl":"de camping"},{"fr":"le tchat","nl":"de chat"},{"fr":"la communication","nl":"de communicatie"},{"fr":"le compost","nl":"de compost"},{"fr":"les confettis","nl":"de confetti"},{"fr":"payer au comptant","nl":"contant betalen"},{"fr":"cr√©er","nl":"cre√´ren"},{"fr":"la piste de danse","nl":"de dansvloer"},{"fr":"la source","nl":"de bron"},{"fr":"le drapeau tricolore","nl":"de Franse driekleur"},{"fr":"le JT","nl":"het journaal"},{"fr":"baisser le son","nl":"de klank stiller zetten"},{"fr":"la falaise","nl":"de klif"},{"fr":"la devise","nl":"de leuze"},{"fr":"le mont Blanc","nl":"de Mont Blanc"},{"fr":"le d√©partement","nl":"het departement"},{"fr":"le S.A.V.","nl":"de dienst na verkoop"},{"fr":"num√©rique","nl":"digitaal"},{"fr":"la boule disco","nl":"de discobal"},{"fr":"le DJ","nl":"de dj"},{"fr":"le but","nl":"het doel"},{"fr":"le public cible","nl":"de doelgroep"},{"fr":"t√©l√©charger","nl":"downloaden"},{"fr":"appuyer sur","nl":"drukken op"},{"fr":"l'√©cologie","nl":"de ecologie"},{"fr":"prendre un abonnement","nl":"een abonnement nemen"},{"fr":"lire un journal en ligne","nl":"een krant online lezen"},{"fr":"efficace","nl":"effici√´nt"},{"fr":"l'√©lectricit√©","nl":"de elektriciteit"},{"fr":"l'e-mail","nl":"de e-mail"},{"fr":"l'√©nergie","nl":"de energie"},{"fr":"l'√©v√®nement","nl":"het evenement"},{"fr":"fabriquer","nl":"fabriceren"},{"fr":"la soir√©e","nl":"het feest"},{"fr":"faire la f√™te","nl":"feesten"},{"fr":"le repas de f√™te","nl":"het feestmaal"},{"fr":"la salle des f√™tes","nl":"de feestzaal"},{"fr":"la particule","nl":"het fijne deeltje"},{"fr":"Bonnes vacances!","nl":"Fijne vakantie!"},{"fr":"le forum","nl":"het forum"},{"fr":"le photomaton","nl":"de fotocabine"},{"fr":"la fraude","nl":"de fraude"},{"fr":"la boum","nl":"de fuif"},{"fr":"l'emploi","nl":"het gebruik"},{"fr":"se servir de","nl":"gebruikmaken van"},{"fr":"F√©licitations!","nl":"Gefeliciteerd!"},{"fr":"gagner de l'argent","nl":"geld verdienen"},{"fr":"l'occasion","nl":"de gelegenheid"},{"fr":"Bonne f√™te!","nl":"Gelukkige feestdag!"},{"fr":"Joyeux anniversaire!","nl":"Gelukkige verjaardag!"},{"fr":"Bonne ann√©e!","nl":"Gelukkig Nieuwjaar!"},{"fr":"le poids","nl":"het gewicht"},{"fr":"bon march√©","nl":"goedkoop"},{"fr":"gratuit","nl":"gratis"},{"fr":"la fronti√®re","nl":"de grens"},{"fr":"le sol","nl":"de grond"},{"fr":"les bagages √† main","nl":"de handbagage"},{"fr":"le hashtag","nl":"de hashtag"},{"fr":"r√©utilisable","nl":"herbruikbaar"},{"fr":"rechargeable","nl":"herlaadbaar"},{"fr":"la f√™te nationale","nl":"de nationale feestdag"},{"fr":"le gouvernement","nl":"de regering"},{"fr":"l'√âtat","nl":"de staat"},{"fr":"l'hymne national","nl":"het volkslied"},{"fr":"la capitale","nl":"de hoofdstad"},{"fr":"les TIC","nl":"de ICT"},{"fr":"la carte d'identit√©","nl":"de identiteitskaart"},{"fr":"le th√© glac√©","nl":"de ijsthee"},{"fr":"en vrac","nl":"in bulk"},{"fr":"enregistrer","nl":"inchecken"},{"fr":"√† proximit√©","nl":"in de buurt"},{"fr":"l'information","nl":"de informatie"},{"fr":"le renseignement","nl":"de inlichting"},{"fr":"innovant","nl":"innoverend"},{"fr":"ins√©rer","nl":"insteken"},{"fr":"en stock","nl":"in stock"},{"fr":"international","nl":"internationaal"},{"fr":"l'interview","nl":"het interview"},{"fr":"le journaliste","nl":"de journalist"},{"fr":"la bougie","nl":"de kaars"},{"fr":"le camping sauvage","nl":"wildkamperen"},{"fr":"le ch√¢teau","nl":"het kasteel"},{"fr":"le sapin de No√´l","nl":"de kerstboom"},{"fr":"cliquer","nl":"klikken"},{"fr":"le bouton","nl":"de knop"},{"fr":"la valise","nl":"de koffer"},{"fr":"la boussole","nl":"het kompas"},{"fr":"le roi","nl":"de koning"},{"fr":"le royaume","nl":"het koninkrijk"},{"fr":"l'acheteur","nl":"de koper"},{"fr":"la r√©duction","nl":"de korting"},{"fr":"le chargeur","nl":"de lader"},{"fr":"le d√©lai de livraison","nl":"de leveringstermijn"},{"fr":"le lien","nl":"de link"},{"fr":"loger","nl":"logeren"},{"fr":"le nom de l'utilisateur","nl":"de login"},{"fr":"bruyant","nl":"luidruchtig"},{"fr":"la notification","nl":"de melding"},{"fr":"√† l'aide de","nl":"met behulp van"},{"fr":"le milieu","nl":"het milieu"},{"fr":"Moederdag","nl":"la f√™te des M√®res"},{"fr":"suivre l'actualit√©","nl":"op de hoogte blijven"},{"fr":"le colis","nl":"het pakket"},{"fr":"le mot de passe","nl":"het paswoord"},{"fr":"la plan√®te","nl":"de planeet"},{"fr":"la politique","nl":"de politiek"},{"fr":"le public","nl":"het publiek"},{"fr":"la r√©ception","nl":"de receptie"},{"fr":"la pub","nl":"de reclame"},{"fr":"recyclable","nl":"recycleerbaar"},{"fr":"r√©gional","nl":"regionaal"},{"fr":"la r√©publique","nl":"de republiek"},{"fr":"la r√©volution","nl":"de revolutie"},{"fr":"le sac √† dos","nl":"de rugzak"},{"fr":"simple","nl":"eenvoudig"},{"fr":"la guirlande","nl":"de slinger"},{"fr":"le smartphone","nl":"de gsm"},{"fr":"de sociale netwerken","nl":"les r√©seaux sociaux"},{"fr":"het sorteren","nl":"le tri"},{"fr":"Succes!","nl":"Bonne chance!"},{"fr":"le symbole","nl":"het symbool"},{"fr":"le syst√®me","nl":"het systeem"},{"fr":"le signe","nl":"het teken"},{"fr":"l'appareil","nl":"het toestel"},{"fr":"inviter","nl":"uitnodigen"},{"fr":"le point de vue","nl":"het uitzicht"},{"fr":"Vaderdag","nl":"la f√™te des P√®res"},{"fr":"de g√Æte","nl":"le g√Æte"},{"fr":"de vallei","nl":"la vall√©e"},{"fr":"polluer","nl":"vervuilen"},{"fr":"le pollueur","nl":"de vervuiler"},{"fr":"c√©l√©brer","nl":"vieren"},{"fr":"voler","nl":"vliegen"},{"fr":"le volume","nl":"het volume"},{"fr":"sale","nl":"vuil"},{"fr":"souhaiter","nl":"wensen"},{"fr":"le tour du monde","nl":"de wereldreis"},{"fr":"zapper","nl":"zappen"},{"fr":"de zender","nl":"la cha√Æne"},{"fr":"se connecter","nl":"zich aanmelden"}
    ]
};

let allSets = [];
let currentSetIdx = 0, wordIdx = 0, timeLeft = 8, isPaused = false, interval;

function laadThema(themaKey) {
    const woorden = dataBibliotheek[themaKey];
    allSets = [];
    
    // LOGICA: 14 per set, 9 nieuwe (stap van 9), 5 overlap
    // Set 1: 0-14, Set 2: 9-23, Set 3: 18-32...
    for (let i = 0; i < 10; i++) {
        let start = i * 9;
        let set = woorden.slice(start, start + 14);
        if (set.length > 0) allSets.push(set);
    }
    renderMenu();
}

function renderMenu() {
    const grid = document.getElementById('set-grid');
    grid.innerHTML = '';
    allSets.forEach((set, i) => {
        const card = document.createElement('div');
        card.className = 'set-card';
        card.innerHTML = `
            <h3>S√©rie ${i+1}</h3>
            <p style="color:#888;">${set.length} woorden</p>
            <button class="btn" onclick="startSet(${i})">üöÄ Start</button>
            <button class="btn btn-edit" onclick="openEditor(${i})">‚öô Bewerk</button>
        `;
        grid.appendChild(card);
    });
}

function openEditor(idx) {
    currentSetIdx = idx;
    const tbody = document.getElementById('edit-tbody');
    document.getElementById('modal-title').innerText = `Serie ${idx+1}`;
    tbody.innerHTML = allSets[idx].map((w, i) => `
        <tr>
            <td><input type="text" value="${w.nl}" onchange="allSets[${idx}][${i}].nl = this.value"></td>
            <td><input type="text" value="${w.fr}" onchange="allSets[${idx}][${i}].fr = this.value"></td>
        </tr>
    `).join('');
    document.getElementById('modal').style.display = 'flex';
}

function saveAndClose() { document.getElementById('modal').style.display = 'none'; }
function closeModal(e) { if(e.target.id==='modal') saveAndClose(); }

function startSet(idx) {
    currentSetIdx = idx; wordIdx = 0;
    document.getElementById('container').style.display = 'none';
    document.getElementById('exercise').style.display = 'flex';
    nextWord();
}

function nextWord() {
    const set = allSets[currentSetIdx];
    if (wordIdx >= set.length) { showResults(); return; }
    timeLeft = 8; 
    document.getElementById('word-display').innerText = set[wordIdx].nl;
    document.getElementById('info-fr').innerText = `S√©rie ${currentSetIdx+1} ‚Äî Woord ${wordIdx+1}/${set.length}`;
    updateTimerBar();

    if (interval) clearInterval(interval);
    interval = setInterval(() => {
        if (!isPaused) {
            timeLeft--; updateTimerBar();
            if (timeLeft <= 0) { wordIdx++; nextWord(); }
        }
    }, 1000);
}

function updateTimerBar() {
    const bar = document.getElementById('timer-bar');
    bar.style.width = (timeLeft / 8 * 100) + '%';
    bar.style.backgroundColor = timeLeft < 3 ? 'var(--danger)' : 'var(--success)';
}

function togglePause() {
    isPaused = !isPaused;
    document.getElementById('pause-btn').innerText = isPaused ? "Hervatten" : "Pause";
}

function showResults() {
    clearInterval(interval);
    document.getElementById('exercise').style.display = 'none';
    document.getElementById('result').style.display = 'flex';
    document.getElementById('res-body').innerHTML = allSets[currentSetIdx].map(w => `
        <tr><td>${w.nl}</td><td style="color:var(--primary); font-weight:bold;">${w.fr}</td></tr>
    `).join('');
}

window.onload = () => laadThema('ecologie');
</script>

</body>
</html>
